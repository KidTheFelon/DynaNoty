<UserControl x:Class="DynaNoty.DynamicIslandNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MinHeight="60">

    <Border x:Name="MainBorder" 
            Style="{StaticResource DynamicIslandStyle}"
            Width="60" MinHeight="60">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Icon -->
            <Border x:Name="IconContainer"
                    Width="24" Height="24"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center" 
                    Grid.Column="0">
                <TextBlock x:Name="IconText" 
                          Text="🔔"
                          FontSize="16"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
            </Border>

            <!-- Content -->
            <StackPanel x:Name="ContentPanel" 
                       Grid.Row="0" Grid.Column="1" 
                       Margin="12,8,0,12"
                       Visibility="Collapsed">
                <TextBlock x:Name="TitleText" 
                          Style="{StaticResource NotificationTextStyle}"
                          Text="Notification"
                          TextTrimming="CharacterEllipsis"
                          TextWrapping="NoWrap"/>
                <TextBlock x:Name="SubText" 
                          Style="{StaticResource SubTextStyle}"
                          Text="Subtitle"
                          TextTrimming="CharacterEllipsis"
                          TextWrapping="NoWrap"/>

                <!-- Actions Panel - размещен ниже текста -->
                <WrapPanel x:Name="ActionsPanel" 
                           Orientation="Horizontal" 
                           HorizontalAlignment="Center"
                           Margin="0,8,0,12"
                           Visibility="Collapsed">
                    <!-- Actions will be added dynamically -->
                </WrapPanel>
            </StackPanel>

            <!-- Action Button -->
            <Button x:Name="ActionButton" Grid.Column="2"
                   Width="24" Height="24"
                   Background="Transparent"
                   BorderThickness="0"
                   VerticalAlignment="Center"
                   HorizontalAlignment="Center"
                   Visibility="Collapsed"
                   Click="ActionButton_Click">
                <TextBlock Text="✕" 
                          FontSize="14" 
                          FontWeight="Bold"
                          Foreground="{Binding TextColor, RelativeSource={RelativeSource AncestorType=UserControl}}"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
            </Button>
        </Grid>
    </Border>
</UserControl>
